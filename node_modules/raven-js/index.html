<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
test test
<script src="/build/raven.js"></script>
<script>
Raven.config('http://f38d13bd79294b06b101151f7cdc0a14@127.0.0.1:8000/1').install();

function bar() {
  baz();
}

function foo() {
  bar();
}

//foo();
</script>
<button><span class="foo">click me</span></button>
<script>
//    var origAddEventListener = HTMLElement.prototype.addEventListener;
//    HTMLElement.prototype.addEventListener = function(evt, fn) {
//        console.log('addEventListener');
//        var args = Array.prototype.slice.call(arguments, 0);
//        args[1] = function () {
//            console.log('click');
//        };
//        origAddEventListener.apply(this, args);
//    };
    (function () {
        console.log('fire her up!');
        var button = document.getElementsByTagName('button')[0];
        var count = 0;
        button.addEventListener('click', function () {
            if (++count === 3) {
                setTimeout(foo);
            }
        });
        console.log('done!');
    })();
</script>
</body>
</html>
